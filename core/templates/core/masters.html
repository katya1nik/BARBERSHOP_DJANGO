{% extends 'base.html' %}

{% block title %}–ú–∞—Å—Ç–µ—Ä–∞ - –ë–∞—Ä–±–µ—Ä—à–æ–ø{% endblock %}

{% block content %}
<div class="text-center mb-5">
    <h1>üë®‚Äçüíº –ù–∞—à–∏ –º–∞—Å—Ç–µ—Ä–∞</h1>
    <p class="lead">–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—ã —Å–≤–æ–µ–≥–æ –¥–µ–ª–∞ —Å –º–Ω–æ–≥–æ–ª–µ—Ç–Ω–∏–º –æ–ø—ã—Ç–æ–º</p>
</div>

<div class="row">
    {% for master in masters %}
        <div class="col-md-6 col-lg-4 mb-4">
            <div class="card h-100">
                <div class="card-body">
                    <h3 class="card-title">{{ master.name }}</h3>
                    <p class="card-text">{{ master.bio|truncatewords:20 }}</p>
                    <div class="mb-3">
                        <small class="text-muted">
                            <strong>üìÖ –û–ø—ã—Ç:</strong> {{ master.experience }} –ª–µ—Ç<br>
                            <strong>üéØ –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:</strong> {{ master.specialization }}
                        </small>
                    </div>
                    
                    <!-- –£—Å–ª—É–≥–∏ –º–∞—Å—Ç–µ—Ä–∞ -->
                    {% if master.services.all %}
                    <div class="mb-3">
                        <strong>üîß –£—Å–ª—É–≥–∏:</strong>
                        <div class="mt-2">
                            {% for service in master.services.all|slice:":3" %}
                            <span class="badge bg-primary me-1 mb-1">{{ service.name }}</span>
                            {% endfor %}
                            {% if master.services.count > 3 %}
                            <span class="badge bg-secondary">+{{ master.services.count|add:"-3" }} –µ—â–µ</span>
                            {% endif %}
                        </div>
                    </div>
                    {% endif %}
                </div>
                <div class="card-footer bg-transparent">
                    <div class="d-flex gap-2">
                        <a href="{% url 'core:master_detail' master.id %}" class="btn btn-primary flex-fill">
                            üëÅÔ∏è –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                        </a>
                        <a href="{% url 'core:booking' %}" class="btn btn-warning flex-fill">
                            üìÖ –ó–∞–ø–∏—Å–∞—Ç—å—Å—è
                        </a>
                    </div>
                </div>
            </div>
        </div>
    {% empty %}
        <div class="col-12">
            <div class="text-center">
                <h3>–ú–∞—Å—Ç–µ—Ä–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</h3>
                <p class="text-muted">–í –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç —Å–ø–∏—Å–æ–∫ –º–∞—Å—Ç–µ—Ä–æ–≤ –ø—É—Å—Ç</p>
                <a href="{% url 'core:landing' %}" class="btn btn-primary">‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
            </div>
        </div>
    {% endfor %}
</div>
{% endblock %}
