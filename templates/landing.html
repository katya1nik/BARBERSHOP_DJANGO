{% extends 'base.html' %}

{% block title %}Барбершоп - Главная{% endblock %}

{% block content %}

    <!-- Основной контент -->
    <main>
        <div class="container">
            <!-- Главный баннер -->
            <section class="hero-section">
                <h2>Профессиональные услуги для настоящих героев</h2>
                <p>Мы предоставляем качественные услуги мужской парикмахерской с 2015 года. Наши мастера - профессионалы своего дела.</p>
                <a href="#booking" class="btn btn-primary">Записаться на стрижку</a>
            </section>

            <!-- Услуги -->
            <section id="services" class="services-section">
                <h2>Наши услуги</h2>
                <div class="services-grid">
                    {% for service in services %}
                    <div class="service-card">
                        <h3>{{ service.name }}</h3>
                        <div class="price">{{ service.price }} ₽</div>
                    </div>
                    {% endfor %}
                </div>
            </section>

            <!-- Мастера -->
            <section id="masters" class="masters-section">
                <h2>Наши мастера</h2>
                <div class="masters-grid">
                    {% for master in masters %}
                    <div class="master-card">
                        <div class="master-photo">
                            {% if master.name == 'Новенький' %}
                                <img src="/media/masters/БП.PNG" alt="{{ master.name }}">
                            {% elif master.name == 'Сидоров Сидр' %}
                                <img src="/media/masters/Дикаприо.PNG" alt="{{ master.name }}">
                            {% elif master.name == 'Иванов Иван Иванович' %}
                                <img src="/media/masters/free-icon-russia-9994030.png" alt="{{ master.name }}">
                            {% elif master.name == 'Петров Петруша' %}
                                <img src="/media/masters/free-icon-united-kingdom-8363562.png" alt="{{ master.name }}">
                            {% else %}
                                <i class="bi bi-person-circle"></i>
                            {% endif %}
                        </div>
                        <h3>{{ master.name }}</h3>
                        <p>{{ master.specialization }}</p>
                    </div>
                    {% endfor %}
                </div>
            </section>

            <!-- Форма записи -->
            <section id="booking" class="booking-section">
                <h2>Записаться на стрижку</h2>
                
                {% if messages %}
                    {% for message in messages %}
                        <div class="alert alert-{% if message.tags == 'error' %}danger{% else %}{{ message.tags }}{% endif %} alert-dismissible fade show" role="alert">
                            {{ message }}
                            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                        </div>
                    {% endfor %}
                {% endif %}
                
                <form method="post" class="booking-form">
                    {% csrf_token %}
                    <input type="text" name="client_name" placeholder="Ваше имя" required>
                    <input type="tel" name="phone" placeholder="Телефон" required>
                    <input type="date" name="appointment_date" required>
                    <input type="time" name="appointment_time" required>
                    <select name="master" required>
                        <option value="">Выберите мастера</option>
                        {% for master in masters %}
                        <option value="{{ master.id }}">{{ master.name }}</option>
                        {% endfor %}
                    </select>
                    <select name="services" required>
                        <option value="">Выберите услуги</option>
                        {% for service in services %}
                        <option value="{{ service.id }}">{{ service.name }} - {{ service.price }} ₽</option>
                        {% endfor %}
                    </select>
                    <textarea name="comment" placeholder="Комментарий" rows="3"></textarea>
                    <button type="submit" class="btn btn-primary">Отправить заявку</button>
                </form>
            </section>
        </div>
    </main>
{% endblock %}